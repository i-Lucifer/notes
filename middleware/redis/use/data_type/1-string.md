## string 字符串

### 增

- nx = not exist

- ex = expire

- 原子性命令 锁示例

  ```bash
  set lock 100 ex 1000 nx;   # 无值时，设置锁值为100
  set lock 200 ex 10000 xx;  # 有值时，更改值为200，并设置ttl过期时间
  ```


| 命令  | 示例                           | 作用                                     |
| ----- | ------------------------------ | ---------------------------------------- |
| set   | set foo bar                    | 覆盖性设置一条数据，返回ok               |
| setnx | setnx foo bar                  | 尝试性设置一条数据，返回成功数量         |
| setex | setex sex 60 male              | 覆盖性设置一条带有过期时间的数据，返回ok |
| mset  | mset name lisi age 23 sex male | 同时设置多条数据，返回ok                 |

### 删

| 命令 | 示例          | 作用                       |
| ---- | ------------- | -------------------------- |
| del  | del key1 key2 | 删除两条数据，返回删除数量 |

### 改

#### 改字符串
| 命令   | 示例                 | 作用                                           |
| ------ | -------------------- | ---------------------------------------------- |
| append | append 'hello world' | 创建或者追加字符串，有空格需要加引号，得到新值 |
| getset | getset age 28        | 获取旧数据值或者nil，并更新数据值              |

#### 改计数器

| 命令   | 示例          | 作用                   |
| ------ | ------------- | ---------------------- |
| incr   | incr age      | 整形值增一，并得到新值 |
| decr   | decr age      | 整形值减一，并得到新值 |
| incrby | incrby age 18 | 整形值增18，并得到新值 |
| derrby | decrby age 18 | 整形值减18，并得到新值 |

### 查

| 命令   | 示例          | 作用                        |
| ------ | ------------- | --------------------------- |
| get    | get name      | 获取一条数据，得到值或者nil |
| strlen | strlen name   | 获取数据长度，得到int       |
| mget   | mget nage age | 获取多条数据                |

### 区间查询和修改

| 命令                   | 作用                               |
| ---------------------- | ---------------------------------- |
| getrange key start end | 获取字符串[start,end]的区间值      |
| setrange key start     | 在字符串的指定位置覆盖性插入字符串 |

