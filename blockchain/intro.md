[TOC]

## 简介

### 原理

#### 区块链的产生

- (中本聪)实现一个没有政府背书(信用)的电子现金系统，也就是账本，需要解决一下问题：

| 问题                               | 解决方案                                                     |
| ---------------------------------- | ------------------------------------------------------------ |
| 账本不能被篡改                     | 多人记账(分布式账本)                                         |
| 账本不能丢失或者损坏               | 多人记账(分布式账本)                                         |
| 虚拟世界证明你是你                 | 密码学数字签名                                               |
| 一份钱，不能重复消费，双花攻击问题 | 强时序性数据结构 china of blocks，把若干笔交易放在一个块(block)内，双花攻击在同一个块内会校验出不合法，只有一个交易生效。双花攻击的第二笔如果在第二个块内，会校验出余额不足。 |

- china of blocks原本是一种数据结构，狭义的区块链指的也是这种数据结构。
- 我们目前常说的区块链(广义)，是虚拟数字货币背后的总称，包括密码学，网络，数据结构等(甚至还有博弈论)

#### 链和hash函数

- 区块链是区块组中的单向链表，这个链表是如何形成的？为什么选用hash函数？

- 区块链里的hash函数一般特指sha-256，哈希函数的特征

  | 特征     | 说明                                                         |
  | -------- | ------------------------------------------------------------ |
  | 防碰撞   | 可能会碰撞，但是概率极低                                     |
  | 信息隐藏 | hash函数，不是对称加密，函数很难进行逆运算，可以保证用户的隐私和安全 |
  | 易出难题 | 分布式账本，用户为什么愿意维护这个账本？情怀肯定不行，那就需要激励。</br>用户证明自己干活了，比特币系统就给用户发一个比特币。比如我们出一道题，如果这道题特别容易解答，也起不到激励作用。</br>我们需要出更难的难题，hash函数就复合这样的一个特征。 |

#### P2P网络

- 解决数据同步问题
- 像BT下载下载时，用户把自己已有的数据供其他用户下载，多用户形成swarm子网
  - 有点像流言协议
- 比特币网络节点按功能分有四个功能模块

| 模块                    | 说明                                     |
| ----------------------- | ---------------------------------------- |
| Wallet 钱包             | 签名交易 余额管理                        |
| Miner 旷工              | 挖矿                                     |
| Full Blockchanin 全节点 | 保存区块链的全部数据                     |
| Network 路由节点        | 提供网络路由服务，让新节点能找到他的邻居 |

#### POW 工作量证明 共识算法

利用hash特性给旷工设置难题，旷工需要付出一定的计算工作量才能得到nonce值，旷工生产区块后获得系统给的比特币奖励。

#### UTXO模型  一种数据结构 账户余额

- 相比较于传统的账户模型，UTXO只要被引用就会失效，很容易实现交易的原子性，更易不被双花攻击
- 比特币比较像私房钱，每个人可以有多个地址，把钱存在不同的地址

### 区块链发展历程

#### 现状

- 虽然国内抵触各种币，但是政府大力扶持和推动区块链，全国多地建立区块链产业园

#### 区块链2.0时代

- 比特币是1.0时代
- 以太坊是1.5时代， 打造了全球计算机，加密猫游戏可以让以太坊网络瘫痪
- EOS 全球操作系统是2.0时代，并非去中心化
- 高速发展期

#### 未来展望

- 就像摩尔定律下的，硬件和软件，相互促进发展一样，区块链需要优秀的应用项目来推动发展，加快区块链底层建设，提升区块链性能
- 当人们使用者虚拟数字货币而不再谈论区块链的时候，代表区块链已经进入了我们期待的时代。

### 技术选型

#### DApp架构(decentralized 去中心化)

- 方向
  - 底层链技术 需要大量的技术与资金投入
  - 区块链应用 去中心化分布式应用dapp
  - 现阶段的Dapp，由于数据存储消耗问题，还无法完全去中心化，所以是中心化和去中心化相结合的一种架构
- 架构
  - 前端 <--> 后端服务(中心化DB，去中心化节点)，Dapp不是完全垫付传统App架构，主要也是由前后端担任开发
- 岗位 前端工程师，后端工程师，智能合约工程师，产品经理等角色
- 岗位要求
  - 前端 区块链原理 SDK包
  - 后盾 区块链原理 SDK包
- 智能合约工程师 设计智能合约 开发智能合约
- 产品经理 区块链应用设计思想与通证(权益凭证)设计思想

#### 公链和联盟链

- 区别

| 分类   | 激励                         | 节点个数 | 加入             | 数据隐私 | 场景                   |
| ------ | ---------------------------- | -------- | ---------------- | -------- | ---------------------- |
| 公链   | 需要对旷工进行激励           | 节点更多 | 不限制假如       | 公开     | 公链 比特币 以太坊 EOS |
| 联盟链 | 小型团体私有网络，不需要激励 | 节点较少 | 有明确的准入机制 | 非公开   | 各BaaS平台             |

### 应用实例

#### 数字金融

- 区块链本身就是记账技术，所以带有很强的金融属性
- 比特币，以太坊等都是数字金融
- 数字货币交易所
- 解决银行之间交易的对账问题

#### 电子存证

- 法院的天平链，电子证据生成，收集，存储，传输，认定等

#### 食品安全

- 智臻链 食品安全溯源
- 全链通 物联网+区块链的畜牧业解决方案

## 总结

### hash函数特征

- 防碰撞
- 易出难题
- 隐私保护

### 共识算法作用

- 分布式系统数据同步，一定需要共识算法
- 旷工激励
- 提高坏人做坏事成本，坏人做坏事时，需要在POW上分叉，需要和全网比拼算力，几乎是做无用工

### 区块链解决什么问题

- 比特币原本是为了解决金融危机，可以避免政府监管，提升跨境支付的效率。
- 区块链解决的问题主要也是降低交易成本，提升交易效率。(不仅仅是指转账)

