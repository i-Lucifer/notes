[TOC]

## MQTT概述

message queue telemetry transport 消息队列遥测传输协议，是运行在TCP上的应用层协议，和传统队列有如下区别

| 传统队列                     | MQTT 发布订阅                | 观察者模式                         |
| ---------------------------- | ---------------------------- | ---------------------------------- |
| 需要先创建队列               | 不需要预先创建主题(Topic)    |                                    |
| 未被消费的消息会保存在队列中 | 未被订阅的消息会被丢弃       |                                    |
| 一个消息只能被一个客户端获取 | 一个消息可以被多个订阅者获取 |                                    |
|                              | 发布订阅需要通过第三者Broker | 观察者模式一般是被观察者通知观察者 |

### MQTT通讯模型

- Broker，可以称之为服务端
- 发布方，客户端的一种，发布数据就叫发布者
- 订阅方，客户端的一种，订阅数据就叫订阅者
- 同一个Client，可以发布数据，也可以订阅数据

### MQTT Client

客户端，可以是js客户端，也可以是物联网设备客户端，也可以是消息队列的消费者（比如监听任务数据写到磁盘）

### MQTT Broker

服务端，可以自己搭建，也可以使用阿里云等服务
